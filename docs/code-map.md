# Code Map

Multirepo CRM template implementing specification-driven development. Generated 2025-10-16.

```
multicrm/
├─ context.json (systematic project navigation)
├─ constitution.md (living laws and prohibitions)
├─ README.md (human-readable overview)
├─ decision-log.md (architectural guidance)
├─ docker-compose.yml (full-stack development environment)
├─ package-lock.json (reproducible dependency versions)
│
├─ src/ (core implementation - 3-module architecture)
│  ├─ backend/ (express.js + postgres - enterprise multi-tenant API)
│  │  ├─ src/ (source code)
│  │  │  ├─ index.ts (server entry - express + middleware + routes)
│  │  │  ├─ config.ts (environment management and security)
│  │  │  ├─ database.ts (postgres tenant-isolated connections)
│  │  │  ├─ middleware/ (cross-cutting concerns)
│  │  │  │  └─ tenant.ts (per-request tenant resolution and isolation)
│  │  │  └─ routes/ (API endpoints)
│  │  │     └─ tenants.ts (tenant management CRUD operations)
│  │  ├─ scripts/ (build and initialization helpers)
│  │  │  ├─ init.js (database schema setup)
│  │  │  └─ init.ts (typescript migration utilities)
│  │  └─ package.json (backend dependencies - express, pg, uuid)
│  │
│  ├─ frontend/ (react.js + vite + tailwind - responsive CRM UI)
│  │  ├─ src/ (component hierarchy)
│  │  │  ├─ main.tsx (react root - provider setup + routing)
│  │  │  ├─ App.tsx (application shell - layout + themes)
│  │  │  ├─ context/ (react context providers)
│  │  │  │  └─ TenantContext.tsx (global tenant state management)
│  │  │  ├─ hooks/ (reusable logic components)
│  │  │  ├─ lib/ (third-party abstractions)
│  │  │  ├─ pages/ (full-page views)
│  │  │  │  ├─ Contacts.tsx (customer relationship management)
│  │  │  │  ├─ Dashboard.tsx (metrics and KPI visualization)
│  │  │  │  ├─ Invoices.tsx (billing and payment tracking)
│  │  │  │  ├─ Pipeline.tsx (lead conversion funnel)
│  │  │  │  └─ Tasks.tsx (work management and assignments)
│  │  │  ├─ services/ (api communication layer)
│  │  │  │  └─ api.ts (axios-based HTTP client with tenant headers)
│  │  │  ├─ types/ (frontend-exclusive type definitions)
│  │  │  │  └─ index.ts (generated or derived types)
│  │  │  └─ utils/ (pure utility functions)
│  │  └─ package.json (frontend dependencies - react, vite, tailwind, recharts)
│  │
│  └─ shared/ (shared types and utilities)
│     ├─ src/ (implementation)
│     │  ├─ index.js (cjs entry for tooling)
│     │  ├─ index.ts (esm entry for typescript)
│     │  └─ types.ts (comprehensive type system for CRM entities)
│     └─ package.json (minimal dependencies)
│
├─ docs/ (comprehensive documentation suite)
│  ├─ _index.md (knowledge locator and navigator)
│  ├─ overview.md (business value and technical summary)
│  ├─ getting-started.md (setup and first steps)
│  ├─ development.md (coding standards and processes)
│  ├─ data-model.md (entity relationships and database schema)
│  ├─ frontend-guide.md (UI/UX principles and patterns)
│  ├─ backend-guide.md (API design and architecture)
│  ├─ deployment.md (production hosting and scaling)
│  ├─ domain-adaptation.md (template specialization guide)
│  ├─ workflow-final-report.md (process documentation and roadmap)
│  ├─ dependency-map.md (architecture visualization)
│  ├─ code-map.md (this file)
│  ├─ future-roadmap.md (planned enhancements)
│  ├─ prd.md (product requirements)
│  ├─ toc.md (reference documentation)
│  └─ troubleshooting.md (common issues and solutions)
│
├─ meta/ (governance and specification templates)
│  └─ meta.md (constitutional charter and value proposition)
│
├─ decisions/ (architectural decision records)
│  └─ ledger.md (chronological governance tracking)
│
├─ scripts/ (automation and tooling)
│  ├─ spec-to-tasks.js (spec-to-executable generator)
│  ├─ validate-meta-inheritance.js (compliance enforcer)
│  ├─ system-status.js (health monitoring dashboard)
│  ├─ check-review-queue.js (decision aging alerts)
│  ├─ lessons-export.js (domain knowledge capture)
│  ├─ debug-all.sh (diagnostic workflow automation)
│  └─ context-trace.js (dependency analysis engine)
│
├─ specs/ (specification-driven development artifacts)
│  ├─ 000-foundation/ (SDD process foundations)
│  │  ├─ spec-dd.md (specification-driven development charter)
│  │  ├─ templates/ (reusable spec document templates)
│  │  │  ├─ plan-template.md (architecture planning template)
│  │  │  ├─ spec-template.md (requirement specification template)
│  │  │  └─ tasks-template.md (task breakdown template)
│  │  ├─ plan.md (planned approach for foundation)
│  │  ├─ quickstart.md (getting started guide)
│  │  ├─ research.md (technical research and options)
│  │  └─ tasks.md (executable task list for foundation)
│  └─ 001-universal-crm-core/ (universal CRM specification)
│     ├─ spec.md (CRM requirements and acceptance criteria)
│     ├─ plan.md (implementation architecture)
│     ├─ data-model.md (entity schemas and relationships)
│     ├─ tasks.md (implementation task breakdown)
│     ├─ contracts/ (API and service interfaces)
│     │  ├─ README.md (contract documentation)
│     │  ├─ contacts.md (contact management contracts)
│     │  ├─ dashboard.md (dashboard widget contracts)
│     │  ├─ invoices.md (billing contracts)
│     │  ├─ leads.md (lead management contracts)
│     │  └─ tasks.md (task management contracts)
│     ├─ quickstart.md (manual validation procedures)
│     └─ research.md (architecture decision research)
│
├─ tests/ (automated quality assurance)
│  └─ (framework implementation pending)
│
└─ metrics/ (system observability)
   └─ index.json (quality gates and health metrics)
