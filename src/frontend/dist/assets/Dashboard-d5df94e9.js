import{u as h,a as j,j as e}from"./index-1463491f.js";import{u as g}from"./ui-7dd21468.js";import{R as t,L as u,C as i,X as n,Y as c,T as r,a as v,B as N,b as f,P as p,c as y,d as w}from"./charts-a43eb5bc.js";import"./vendor-601c82f3.js";const b=[{month:"Jan",revenue:4e3},{month:"Feb",revenue:3e3},{month:"Mar",revenue:5e3},{month:"Apr",revenue:2780},{month:"May",revenue:1890},{month:"Jun",revenue:2390}],C=[{stage:"New",count:12},{stage:"Contacted",count:8},{stage:"Qualified",count:15},{stage:"Proposal",count:7},{stage:"Negotiation",count:4}],x=[{name:"Completed",value:65},{name:"Pending",value:35}],m=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884D8"],z=()=>{const{currentTenant:a}=h(),{data:R,isLoading:o,error:d}=g({queryKey:["dashboard",a==null?void 0:a.id],queryFn:()=>j.get("/dashboard"),enabled:!!a});return a?o?e.jsx("div",{className:"p-8",children:e.jsxs("div",{className:"animate-pulse space-y-8",children:[e.jsx("div",{className:"h-8 bg-gray-200 rounded w-1/4"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[...Array(4)].map((l,s)=>e.jsx("div",{className:"bg-gray-200 h-24 rounded"},s))}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[...Array(2)].map((l,s)=>e.jsx("div",{className:"bg-gray-200 h-64 rounded"},s))})]})}):d?e.jsx("div",{className:"p-8 text-center",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 max-w-md mx-auto",children:[e.jsx("h3",{className:"text-red-800 font-semibold mb-2",children:"Error Loading Dashboard"}),e.jsx("p",{className:"text-red-600 text-sm",children:(d==null?void 0:d.message)||"An unexpected error occurred"})]})}):e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:["Dashboard - ",a.name]}),e.jsx("p",{className:"text-gray-600",children:"Overview of your CRM performance and recent activity"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-primary-500 rounded-md flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M13 6H7l3 3v7h4v-9h3v9h4V9a2 2 0 00-2-2z"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Revenue"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"$54,231"})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-success-500 rounded-md flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Total Contacts"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"1,247"})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-warning-500 rounded-md flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zm0 4a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Open Deals"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"46"})]})})]})})}),e.jsx("div",{className:"bg-white overflow-hidden shadow rounded-lg",children:e.jsx("div",{className:"p-5",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx("div",{className:"w-8 h-8 bg-danger-500 rounded-md flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})})}),e.jsx("div",{className:"ml-5 w-0 flex-1",children:e.jsxs("dl",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"Overdue Tasks"}),e.jsx("dd",{className:"text-lg font-medium text-gray-900",children:"12"})]})})]})})})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Revenue Trend"}),e.jsx(t,{width:"100%",height:300,children:e.jsxs(u,{data:b,children:[e.jsx(i,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"month"}),e.jsx(c,{}),e.jsx(r,{}),e.jsx(v,{type:"monotone",dataKey:"revenue",stroke:"#3b82f6",strokeWidth:2})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Pipeline Overview"}),e.jsx(t,{width:"100%",height:300,children:e.jsxs(N,{data:C,children:[e.jsx(i,{strokeDasharray:"3 3"}),e.jsx(n,{dataKey:"stage"}),e.jsx(c,{}),e.jsx(r,{}),e.jsx(f,{dataKey:"count",fill:"#10b981"})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Task Completion"}),e.jsx(t,{width:"100%",height:300,children:e.jsxs(p,{children:[e.jsx(y,{data:x,cx:"50%",cy:"50%",labelLine:!1,label:({name:l,percent:s})=>`${l} ${(s*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"value",children:x.map((l,s)=>e.jsx(w,{fill:m[s%m.length]},`cell-${s}`))}),e.jsx(r,{})]})})]}),e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"Recent Activity"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-primary-500 rounded-full mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"New contact added"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 hours ago"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Deal closed: $12,500"}),e.jsx("p",{className:"text-xs text-gray-500",children:"1 day ago"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Task completed"}),e.jsx("p",{className:"text-xs text-gray-500",children:"2 days ago"})]})]}),e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-3"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium text-gray-900",children:"Invoice overdue"}),e.jsx("p",{className:"text-xs text-gray-500",children:"3 days ago"})]})]})]})]})]})]}):e.jsxs("div",{className:"p-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Welcome to MultiCRM"}),e.jsx("p",{className:"text-gray-600 mb-6",children:"Please select a tenant from the dropdown above to get started."}),e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-md mx-auto",children:e.jsx("p",{className:"text-blue-700 text-sm",children:"Tenants represent separate customer organizations. Each tenant has its own isolated data including contacts, deals, tasks, and invoices."})})]})};export{z as default};
